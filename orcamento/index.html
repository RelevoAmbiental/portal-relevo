<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema de Or√ßamentos - Relevo</title>

  <!-- √çcone -->
  <link rel="icon" type="image/png"
        href="https://raw.githubusercontent.com/RelevoAmbiental/relevo-site/refs/heads/main/assets/icons/favicon_menos.png">

  <!-- üîê Pol√≠tica de seguran√ßa atualizada para liberar securetoken -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self' https://*.firebaseapp.com https://firestore.googleapis.com https://*.firebaseio.com https://www.googleapis.com;
    script-src 'self' 'unsafe-eval' 'unsafe-inline' https://www.gstatic.com https://apis.google.com https://www.googleapis.com;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' https://fonts.gstatic.com;
    connect-src 'self' https://securetoken.googleapis.com https://firestore.googleapis.com https://*.firebaseio.com wss://*.firebaseio.com https://identitytoolkit.googleapis.com;
    img-src 'self' data: https:;
  ">

  <!-- ‚úÖ Firebase SDK compat (usa o mesmo do portal) -->
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>

  <!-- ‚úÖ Usa a inicializa√ß√£o j√° existente do portal -->
  <script src="../scripts/firebase-init-guard.js"></script>

  <!-- üîÑ Espelho do usu√°rio autenticado -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      if (window.firebase && firebase.auth) {
        window.relevoUser = firebase.auth().currentUser || null;
        firebase.auth().onAuthStateChanged(u => {
          window.relevoUser = u || null;
          console.log("üîó Or√ßamento conectado ao usu√°rio do portal:", u ? u.email : "nenhum");
        });
      } else {
        console.warn("‚ö†Ô∏è Firebase n√£o detectado no or√ßamento. Verifique o guard.");
      }
    });
  </script>

  <!-- üß† App React (build do Vite) -->
  <script type="module" crossorigin src="/orcamento/assets/index-f3424957.js"></script>
  <link rel="stylesheet" href="/orcamento/assets/index-be086e8e.css">
</head>
<body>
    <div id="root"></div>
    
    <!-- ‚úÖ CORRE√á√ÉO: Usar .jsx (igual ao seu arquivo) -->
    
</body>
</html>
